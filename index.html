<!DOCTYPE html>




<html class="theme-next gemini" lang="">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta property="og:type" content="website">
<meta property="og:title" content="这是我的博客">
<meta property="og:url" content="https://aaaneigeideitao.github.io/index.html">
<meta property="og:site_name" content="这是我的博客">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="这是我的博客">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"right","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: false,
    motion: {"enable":false,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://aaaneigeideitao.github.io/">





  <title>这是我的博客</title>
  








</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-right 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">这是我的博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">不会就钻，再不会就问，再再不会就转行吧。</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://aaaneigeideitao.github.io/2019/01/28/Linux下添加环境变量/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="WeiYuan Jia">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="这是我的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/01/28/Linux下添加环境变量/" itemprop="url">Linux下添加环境变量</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-01-28T00:25:00+08:00">
                2019-01-28
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>添加环境变量有两种方式，一种是对所有用户都生效，另一种是对该用户有效</p>
<h5 id="所有用户"><a href="#所有用户" class="headerlink" title="所有用户"></a>所有用户</h5><p>添加node目录下bin文件所有命令到环境变量<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/profile </span><br><span class="line">// 添加一行</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:~/www/node-v10.15.0-linux-x64/bin/</span><br><span class="line">// 立即生效</span><br><span class="line"><span class="built_in">source</span> /etc/profile</span><br></pre></td></tr></table></figure></p>
<h5 id="当前用户"><a href="#当前用户" class="headerlink" title="当前用户"></a>当前用户</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">vi ~/.bash_profile</span><br><span class="line">/**操作和上面一样**/</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://aaaneigeideitao.github.io/2019/01/21/冒泡排序-2种/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="WeiYuan Jia">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="这是我的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/01/21/冒泡排序-2种/" itemprop="url">冒泡排序-2种</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-01-21T11:08:00+08:00">
                2019-01-21
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/算法/" itemprop="url" rel="index">
                    <span itemprop="name">算法</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>之前面试的时候有问到排序，因为菜，所以暂时只会写写冒泡，还写错了，后来面试官问能不能不借助第三方变量实现，当时脑子里也想过用加减互换的方法，不过没有说出来，面试官就一句话带过了，回来之后整理了一下冒泡排序的两种方法</p>
<h3 id="借助第三方变量"><a href="#借助第三方变量" class="headerlink" title="借助第三方变量"></a>借助第三方变量</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">const arr = [45,4,6,7,8,12,3,45,5,6,7,78,234,12,3,1];</span><br><span class="line"><span class="built_in">let</span> temp = 0;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="built_in">let</span> i = 0; i &lt; arr.length; i++)&#123;</span><br><span class="line">	<span class="keyword">for</span>(<span class="built_in">let</span> j = i; j &lt; arr.length; j++)&#123;</span><br><span class="line">		<span class="keyword">if</span>(arr[i] &gt; arr[j])&#123;</span><br><span class="line">           		temp = arr[i];</span><br><span class="line">			arr[i] = arr[j];</span><br><span class="line">            		arr[j] = temp;</span><br><span class="line">		&#125; </span><br><span class="line">   	 &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="不借助第三方变量"><a href="#不借助第三方变量" class="headerlink" title="不借助第三方变量"></a>不借助第三方变量</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">const arr = [45,4,6,7,8,12,3,45,5,6,7,78,234,12,3,1];</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="built_in">let</span> i = 0; i &lt; arr.length; i++)&#123;</span><br><span class="line">	<span class="keyword">for</span>(<span class="built_in">let</span> j = i; j &lt; arr.length; j++)&#123;</span><br><span class="line">		<span class="keyword">if</span>(arr[i] &gt; arr[j])&#123;</span><br><span class="line">          	   arr[i] = arr[j] + arr[i];</span><br><span class="line">		   arr[j] = arr[i] - arr[j];</span><br><span class="line">           	   arr[i] = arr[i] - arr[j];</span><br><span class="line">		&#125; </span><br><span class="line">   	 &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://aaaneigeideitao.github.io/2019/01/05/MongoDD常用操作符/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="WeiYuan Jia">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="这是我的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/01/05/MongoDD常用操作符/" itemprop="url">MongoDD查询、投影、更新操作符</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-01-05T23:13:00+08:00">
                2019-01-05
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/M-o-n-go-DB/" itemprop="url" rel="index">
                    <span itemprop="name">M o n go DB</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="查询、投影"><a href="#查询、投影" class="headerlink" title="查询、投影"></a>查询、投影</h3><h4 id="比较操作符"><a href="#比较操作符" class="headerlink" title="比较操作符"></a>比较操作符</h4><h5 id="eq"><a href="#eq" class="headerlink" title="$eq"></a><code>$eq</code></h5><p>匹配等于指定值的值。</p>
<h5 id="gt"><a href="#gt" class="headerlink" title="$gt"></a><code>$gt</code></h5><p>匹配大于指定值的值。</p>
<h5 id="gte"><a href="#gte" class="headerlink" title="$gte"></a><code>$gte</code></h5><p>匹配大于或等于指定值的值。</p>
<h5 id="in"><a href="#in" class="headerlink" title="$in"></a><code>$in</code></h5><p>匹配数组中指定的任何值。</p>
<h5 id="lt"><a href="#lt" class="headerlink" title="$lt"></a><code>$lt</code></h5><p>匹配小于指定值的值。</p>
<h5 id="lte"><a href="#lte" class="headerlink" title="$lte"></a><code>$lte</code></h5><p>匹配小于或等于指定值的值。</p>
<h5 id="ne"><a href="#ne" class="headerlink" title="$ne"></a><code>$ne</code></h5><p>匹配所有不等于指定值的值。</p>
<h5 id="nin"><a href="#nin" class="headerlink" title="$nin"></a><code>$nin</code></h5><p>匹配数组中指定的值。</p>
<h4 id="逻辑操作符"><a href="#逻辑操作符" class="headerlink" title="逻辑操作符"></a>逻辑操作符</h4><h5 id="and"><a href="#and" class="headerlink" title="$and"></a><code>$and</code></h5><p>使用逻辑连接查询子句AND将返回与两个子句的条件匹配的所有文档。</p>
<h5 id="not"><a href="#not" class="headerlink" title="$not"></a><code>$not</code></h5><p>反转查询表达式的效果并返回与查询表达式不匹配的文档。</p>
<h5 id="nor"><a href="#nor" class="headerlink" title="$nor"></a><code>$nor</code></h5><p>使用逻辑连接查询子句NOR将返回所有无法匹配两个子句的文档。</p>
<h5 id="or"><a href="#or" class="headerlink" title="$or"></a><code>$or</code></h5><p>使用逻辑连接查询子句OR将返回与任一子句的条件匹配的所有文档。</p>
<h4 id="元素操作符"><a href="#元素操作符" class="headerlink" title="元素操作符"></a>元素操作符</h4><h5 id="exists"><a href="#exists" class="headerlink" title="$exists"></a><code>$exists</code></h5><p>匹配具有指定字段的文档。</p>
<h5 id="type"><a href="#type" class="headerlink" title="$type"></a><code>$type</code></h5><p>如果字段是指定类型，则选择文档。</p>
<h4 id="值操作符"><a href="#值操作符" class="headerlink" title="值操作符"></a>值操作符</h4><h5 id="expr"><a href="#expr" class="headerlink" title="$expr"></a><code>$expr</code></h5><p>允许在查询语言中使用聚合表达式。</p>
<h5 id="jsonSchema"><a href="#jsonSchema" class="headerlink" title="$jsonSchema"></a><code>$jsonSchema</code></h5><p>根据给定的JSON模式验证文档。</p>
<h5 id="mod"><a href="#mod" class="headerlink" title="$mod"></a><code>$mod</code></h5><p>对字段的值执行模运算，并选择具有指定结果的文档。</p>
<h5 id="regex"><a href="#regex" class="headerlink" title="$regex"></a><code>$regex</code></h5><p>选择值与指定正则表达式匹配的文档。</p>
<h5 id="text"><a href="#text" class="headerlink" title="$text"></a><code>$text</code></h5><p>执行文本搜索。</p>
<h5 id="where"><a href="#where" class="headerlink" title="$where"></a><code>$where</code></h5><p>匹配满足JavaScript表达式的文档。</p>
<h4 id="数组操作符"><a href="#数组操作符" class="headerlink" title="数组操作符"></a>数组操作符</h4><h5 id="all"><a href="#all" class="headerlink" title="$all"></a><code>$all</code></h5><p>匹配包含查询中指定的所有元素的数组。</p>
<h5 id="elemMatch"><a href="#elemMatch" class="headerlink" title="$elemMatch"></a><code>$elemMatch</code></h5><p>如果数组字段中的元素与所有指定$elemMatch条件匹配，则选择文档。</p>
<h5 id="size"><a href="#size" class="headerlink" title="$size"></a><code>$size</code></h5><p>如果数组字段是指定大小，则选择文档。</p>
<h4 id="评论操作符"><a href="#评论操作符" class="headerlink" title="评论操作符"></a>评论操作符</h4><h5 id="comment"><a href="#comment" class="headerlink" title="$comment"></a><code>$comment</code></h5><p>向查询谓词添加注释。</p>
<h4 id="投影操作符"><a href="#投影操作符" class="headerlink" title="投影操作符"></a>投影操作符</h4><h5 id=""><a href="#" class="headerlink" title="$"></a><code>$</code></h5><p>投影数组中与查询条件匹配的第一个元素。</p>
<h5 id="elemMatch-1"><a href="#elemMatch-1" class="headerlink" title="$elemMatch"></a><code>$elemMatch</code></h5><p>投影数组中与指定$elemMatch条件匹配的第一个元素。</p>
<h5 id="meta"><a href="#meta" class="headerlink" title="$meta"></a><code>$meta</code></h5><p>投影在$text操作期间分配的文档分数。</p>
<h5 id="slice"><a href="#slice" class="headerlink" title="$slice"></a><code>$slice</code></h5><p>限制从数组投射的元素数量。支持跳过和限制切片。</p>
<h4 id="按位操作符"><a href="#按位操作符" class="headerlink" title="按位操作符"></a>按位操作符</h4><h5 id="bitsAllClear"><a href="#bitsAllClear" class="headerlink" title="$bitsAllClear"></a><code>$bitsAllClear</code></h5><p>匹配数值或二进制值，其中一组位位置都具有值0。</p>
<h5 id="bitsAllSet"><a href="#bitsAllSet" class="headerlink" title="$bitsAllSet"></a><code>$bitsAllSet</code></h5><p>匹配数值或二进制值，其中一组位位置都具有值1。</p>
<h5 id="bitsAnyClear"><a href="#bitsAnyClear" class="headerlink" title="$bitsAnyClear"></a><code>$bitsAnyClear</code></h5><p>匹配数值或二进制值，其中来自一组位位置的任何位的值都为0。</p>
<h5 id="bitsAnySet"><a href="#bitsAnySet" class="headerlink" title="$bitsAnySet"></a><code>$bitsAnySet</code></h5><p>匹配数值或二进制值，其中来自一组位位置的任何位的值都为1。</p>
<h4 id="地理空间操作符"><a href="#地理空间操作符" class="headerlink" title="地理空间操作符"></a>地理空间操作符</h4><h5 id="geoIntersects"><a href="#geoIntersects" class="headerlink" title="$geoIntersects"></a>$geoIntersects</h5><p>选择与GeoJSON几何体相交的几何。该2dsphere索引支持 <code>$geoIntersects</code>。</p>
<h5 id="geoWithin"><a href="#geoWithin" class="headerlink" title="$geoWithin"></a><code>$geoWithin</code></h5><p>选择边界GeoJSON几何体中的几何。该2dsphere和2D索引支持 <code>$geoWithin</code>。</p>
<h5 id="near"><a href="#near" class="headerlink" title="$near"></a><code>$near</code></h5><p>返回点附近的地理空间对象。需要地理空间索引。该2dsphere和2D索引支持<code>$near</code>。</p>
<h5 id="nearSphere"><a href="#nearSphere" class="headerlink" title="$nearSphere"></a><code>$nearSphere</code></h5><p>返回球体上某点附近的地理空间对象。需要地理空间索引。该2dsphere和2D索引支持 <code>$nearSphere</code>。</p>
<h3 id="更新"><a href="#更新" class="headerlink" title="更新"></a>更新</h3><h4 id="字段"><a href="#字段" class="headerlink" title="字段"></a>字段</h4><h5 id="currentDate"><a href="#currentDate" class="headerlink" title="$currentDate"></a><code>$currentDate</code></h5><p>将字段的值设置为当前日期，可以是Date或Timestamp。</p>
<h5 id="inc"><a href="#inc" class="headerlink" title="$inc"></a><code>$inc</code></h5><p>按指定的数量增加字段的值。</p>
<h5 id="min"><a href="#min" class="headerlink" title="$min"></a><code>$min</code></h5><p>仅当指定的值小于现有字段值时才更新字段。</p>
<h5 id="max"><a href="#max" class="headerlink" title="$max"></a><code>$max</code></h5><p>仅当指定的值大于现有字段值时才更新字段。</p>
<h5 id="mul"><a href="#mul" class="headerlink" title="$mul"></a><code>$mul</code></h5><p>将字段的值乘以指定的量。</p>
<h5 id="rename"><a href="#rename" class="headerlink" title="$rename"></a><code>$rename</code></h5><p>重命名字段。</p>
<h5 id="set"><a href="#set" class="headerlink" title="$set"></a><code>$set</code></h5><p>设置文档中字段的值。</p>
<h5 id="setOnInsert"><a href="#setOnInsert" class="headerlink" title="$setOnInsert"></a><code>$setOnInsert</code></h5><p>如果更新导致文档插入，则设置字段的值。对修改现有文档的更新操作没有影响。</p>
<h5 id="unset"><a href="#unset" class="headerlink" title="$unset"></a><code>$unset</code></h5><p>从文档中删除指定的字段。</p>
<h4 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h4><h5 id="-1"><a href="#-1" class="headerlink" title="$"></a><code>$</code></h5><p>充当占位符以更新与查询条件匹配的第一个元素。</p>
<h5 id="-2"><a href="#-2" class="headerlink" title="$[]"></a><code>$[]</code></h5><p>充当占位符以更新数组中与查询条件匹配的文档中的所有元素。</p>
<h5 id="lt-identifier-gt"><a href="#lt-identifier-gt" class="headerlink" title="$[&lt;identifier&gt;]"></a><code>$[&lt;identifier&gt;]</code></h5><p>充当占位符以更新与arrayFilters匹配查询条件的文档的条件匹配的所有元素。</p>
<h5 id="addToSet"><a href="#addToSet" class="headerlink" title="$addToSet"></a><code>$addToSet</code></h5><p>仅当数组中尚不存在元素时才将元素添加到数组中。</p>
<h5 id="pop"><a href="#pop" class="headerlink" title="$pop"></a><code>$pop</code></h5><p>删除数组的第一个或最后一个项目。</p>
<h5 id="pull"><a href="#pull" class="headerlink" title="$pull"></a><code>$pull</code></h5><p>删除与指定查询匹配的所有数组元素。</p>
<h5 id="push"><a href="#push" class="headerlink" title="$push"></a><code>$push</code></h5><p>将项添加到数组。</p>
<h5 id="pullAll"><a href="#pullAll" class="headerlink" title="$pullAll"></a><code>$pullAll</code></h5><p>从数组中删除所有匹配的值。</p>
<h4 id="修饰符"><a href="#修饰符" class="headerlink" title="修饰符"></a>修饰符</h4><h5 id="each"><a href="#each" class="headerlink" title="$each"></a><code>$each</code></h5><p>修改$push和$addToSet运算符以附加多个项目以进行阵列更新。</p>
<h5 id="position"><a href="#position" class="headerlink" title="$position"></a><code>$position</code></h5><p>修改$push运算符以指定数组中添加元素的位置。</p>
<h5 id="slice-1"><a href="#slice-1" class="headerlink" title="$slice"></a><code>$slice</code></h5><p>修改$push运算符以限制更新数组的大小。</p>
<h5 id="sort"><a href="#sort" class="headerlink" title="$sort"></a><code>$sort</code></h5><p>修改$push运算符以重新排序存储在数组中的文档。</p>
<h4 id="按位"><a href="#按位" class="headerlink" title="按位"></a>按位</h4><h5 id="bit"><a href="#bit" class="headerlink" title="$bit"></a><code>$bit</code></h5><p>执行按位AND，OR和XOR更新整数值。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://aaaneigeideitao.github.io/2018/11/26/MongoDB学习笔记-二/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="WeiYuan Jia">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="这是我的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/26/MongoDB学习笔记-二/" itemprop="url">MongoDB学习笔记   (二)：索引</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-11-26T21:28:49+08:00">
                2018-11-26
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>使用索引的目的是改善查询性能，在MongoDB中，创建索引非常容易。使用<code>explain()</code>方法监控查询</p>
<h4 id="gt-创建大集合"><a href="#gt-创建大集合" class="headerlink" title="&gt; 创建大集合"></a>&gt; 创建大集合</h4><p>在MongoDB shell中，使用JavaScript和简单的API可以操作数据库<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt; <span class="keyword">for</span>(i = 0; i &lt; 2000; i++)&#123;</span><br><span class="line">	db.nums.save(&#123;num: i&#125;)</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></p>
<h5 id="it-命令"><a href="#it-命令" class="headerlink" title="it()命令"></a>it()命令</h5><p>操作结束之后，数据库中会出现2000条数据，执行<code>db.nums.find()</code>查看，每次只显示20个数据结果，可以使用<code>it()</code>继续显示之后的20个</p>
<h5 id="使用范围查询"><a href="#使用范围查询" class="headerlink" title="使用范围查询"></a>使用范围查询</h5><h6 id="查询所有num大于1995的文档"><a href="#查询所有num大于1995的文档" class="headerlink" title="查询所有num大于1995的文档"></a>查询所有<code>num</code>大于<code>1995</code>的文档</h6><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt; db.nums.find(&#123;num: &#123;<span class="variable">$gt</span>: 1995&#125;&#125;)</span><br></pre></td></tr></table></figure>
<h6 id="查询所有num小于20的文档"><a href="#查询所有num小于20的文档" class="headerlink" title="查询所有num小于20的文档"></a>查询所有<code>num</code>小于<code>20</code>的文档</h6><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt; db.nums.find(&#123;num: &#123;<span class="variable">$lt</span>: 20&#125;&#125;)</span><br></pre></td></tr></table></figure>
<h6 id="联合使用进行范围筛选-查询所有num大于50小于60的文档"><a href="#联合使用进行范围筛选-查询所有num大于50小于60的文档" class="headerlink" title="联合使用进行范围筛选,查询所有num大于50小于60的文档"></a>联合使用进行范围筛选,查询所有<code>num</code>大于<code>50</code>小于<code>60</code>的文档</h6><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt; db.nums.find(&#123;num: &#123;<span class="variable">$gt</span>: 50, <span class="variable">$lt</span>: 60&#125;&#125;)</span><br></pre></td></tr></table></figure>
<h6 id="其他类似操作符"><a href="#其他类似操作符" class="headerlink" title="其他类似操作符"></a>其他类似操作符</h6><p><code>$gte</code>: 大于等于<br><code>$lte</code>: 小于等于<br><code>$ne</code>: 不等于</p>
<h5 id="索引和explain"><a href="#索引和explain" class="headerlink" title="索引和explain()"></a>索引和<code>explain()</code></h5>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://aaaneigeideitao.github.io/2018/11/13/MongoDB学习笔记（一）/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="WeiYuan Jia">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="这是我的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/13/MongoDB学习笔记（一）/" itemprop="url">MongoDB学习笔记（一）</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-11-13T19:58:00+08:00">
                2018-11-13
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/MongoDB/" itemprop="url" rel="index">
                    <span itemprop="name">MongoDB</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h5 id="gt-基本简单操作"><a href="#gt-基本简单操作" class="headerlink" title="&gt; 基本简单操作"></a>&gt; 基本简单操作</h5><h6 id="切换数据库"><a href="#切换数据库" class="headerlink" title="切换数据库"></a>切换数据库</h6><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; use [dbname]</span><br><span class="line">switched to db [dbname]</span><br></pre></td></tr></table></figure>
<h6 id="简单的插入数数据"><a href="#简单的插入数数据" class="headerlink" title="简单的插入数数据"></a>简单的插入数数据</h6><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt; db.users.insert(&#123;username: <span class="string">"jones"</span>&#125;)</span><br><span class="line">WriteResult(&#123; <span class="string">"nInserted"</span>: 1 &#125;)</span><br><span class="line">&gt; db.users.insert(&#123;username: <span class="string">"smith"</span>&#125;)</span><br><span class="line">WriteResult(&#123; <span class="string">"nInserted"</span>: 1 &#125;)</span><br></pre></td></tr></table></figure>
<h6 id="现在插入了两个数据，我们用count-方法统计一下"><a href="#现在插入了两个数据，我们用count-方法统计一下" class="headerlink" title="现在插入了两个数据，我们用count()方法统计一下"></a>现在插入了两个数据，我们用<code>count()</code>方法统计一下</h6><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&gt; db.users.count()</span><br><span class="line">2</span><br><span class="line">``` </span><br><span class="line"><span class="comment">###### 查询集合中所有的文档</span></span><br><span class="line">``` bash</span><br><span class="line">&gt; db.users.find()</span><br><span class="line">&#123; <span class="string">"_id"</span> : ObjectId(<span class="string">"5beac045b6ca1f382ec12757"</span>), <span class="string">"username"</span>: <span class="string">"jones"</span> &#125;</span><br><span class="line">&#123; <span class="string">"_id"</span> : ObjectId(<span class="string">"5beac050b6ca1f382ec12758"</span>), <span class="string">"username"</span>: <span class="string">"smith"</span> &#125;</span><br></pre></td></tr></table></figure>
<h6 id="AND语句"><a href="#AND语句" class="headerlink" title="AND语句"></a>AND语句</h6><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt; db.users.find(&#123; field1: value1, field2: value2 &#125;)</span><br></pre></td></tr></table></figure>
<p>或者使用<code>$and</code>操作符<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt; db.users.find(&#123; <span class="variable">$and</span> : [&#123; field1: value1&#125;, &#123; field2: value2 &#125;]&#125;)</span><br></pre></td></tr></table></figure></p>
<h6 id="OR语句"><a href="#OR语句" class="headerlink" title="OR语句"></a>OR语句</h6><p>只要把上面的<code>$and</code>操作符改成<code>$or</code>即可<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt; db.users.find(&#123; <span class="variable">$or</span> : [&#123; field1: value1 &#125;, &#123; field2: value2 &#125;]&#125;)</span><br></pre></td></tr></table></figure></p>
<h5 id="gt-更新操作"><a href="#gt-更新操作" class="headerlink" title="&gt; 更新操作"></a>&gt; 更新操作</h5><h6 id="set"><a href="#set" class="headerlink" title="$set"></a>$set</h6><p>如果jones要增加自己的年龄或者年龄和地区,使用<code>update</code>命令和<code>$set</code>操作符<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; db.users.update(&#123; username: <span class="string">"jones"</span> &#125;, &#123; <span class="variable">$set</span>: &#123; age : 18 &#125;&#125;)</span><br><span class="line">&gt; db.users.update(&#123; username: <span class="string">"jones"</span> &#125;, &#123; <span class="variable">$set</span>: &#123; age : 18, country : <span class="string">"UK"</span> &#125;&#125;)</span><br></pre></td></tr></table></figure></p>
<ul>
<li>注意，如果丢掉操作符，像下面这样，则原来的文档会被替换</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt; db.users.update(&#123; username: <span class="string">"jones"</span> &#125;, &#123; age : 18 &#125;)</span><br></pre></td></tr></table></figure>
<p>这次操作会导致原来的文档被替换，包括<code>ObjectId</code>也会改变,千万注意避免使用这种方式</p>
<h6 id="使用-unset来删除文档的某个字段"><a href="#使用-unset来删除文档的某个字段" class="headerlink" title="使用$unset来删除文档的某个字段"></a>使用<code>$unset</code>来删除文档的某个字段</h6><p>我要删除”age : 18”的文档的”username”字段，如下操作<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt; db.users.update(&#123; age: 19 &#125;, &#123; <span class="variable">$unset</span>: &#123; username: <span class="string">"这里随便填"</span> &#125;&#125;)</span><br></pre></td></tr></table></figure></p>
<h5 id="gt-更新复杂数据"><a href="#gt-更新复杂数据" class="headerlink" title="&gt; 更新复杂数据"></a>&gt; 更新复杂数据</h5><h6 id="案例1"><a href="#案例1" class="headerlink" title="案例1"></a>案例1</h6><p>现在我要在<code>jones</code>的文章中加入他喜欢的城市和水果<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&gt; db.users.update(&#123; username: <span class="string">"jones"</span> &#125;,</span><br><span class="line">	&#123; </span><br><span class="line">    	<span class="variable">$set</span>: &#123;</span><br><span class="line">        	favorites: &#123;</span><br><span class="line">                   	  cities: [<span class="string">"Hong Kong"</span>, <span class="string">"Shang Hai"</span>],</span><br><span class="line">               		  fruits: [<span class="string">"banane"</span>, <span class="string">"apple"</span>]</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure></p>
<h6 id="使用pertty-显示格式化结果"><a href="#使用pertty-显示格式化结果" class="headerlink" title="使用pertty()显示格式化结果"></a>使用<code>pertty()</code>显示格式化结果</h6><p><code>&gt; db.users.find().pretty()</code>可以使用格式显示文档</p>
<h6 id="使用-push操作符来可以重复添加已有的数据"><a href="#使用-push操作符来可以重复添加已有的数据" class="headerlink" title="使用$push操作符来可以重复添加已有的数据"></a>使用<code>$push</code>操作符来可以重复添加已有的数据</h6><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt; db.users.update(&#123; <span class="string">"favorites.cities"</span>: <span class="string">"Hong Kong"</span> &#125;,&#123; <span class="variable">$push</span>: &#123; <span class="string">"favorites.cities"</span>: <span class="string">"Hong Kong"</span> &#125;&#125;)</span><br></pre></td></tr></table></figure>
<p>这段代码输入之后，喜欢<code>Hong Kong</code>的用户的喜爱城市列表里将会多出一个重复的<code>Hong Kong</code>。<br>要想不出现这种后果，就要用到下面的<code>$addToSet</code>操作符了</p>
<h6 id="使用-addToSet操作符来添加唯一数据"><a href="#使用-addToSet操作符来添加唯一数据" class="headerlink" title="使用$addToSet操作符来添加唯一数据"></a>使用<code>$addToSet</code>操作符来添加唯一数据</h6><h5 id="gt-删除数据"><a href="#gt-删除数据" class="headerlink" title="&gt; 删除数据"></a>&gt; 删除数据</h5><h6 id="使用remove-删除某个文档"><a href="#使用remove-删除某个文档" class="headerlink" title="使用remove()删除某个文档"></a>使用<code>remove()</code>删除某个文档</h6><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt; db.users.remove(&#123; <span class="string">"favorites.cities"</span>: <span class="string">"Hong Kong"</span> &#125;)</span><br></pre></td></tr></table></figure>
<p>以上操作会将喜欢城市用户的文档通通删除</p>
<h6 id="使用remove-删除”users”集合中所有文档-不会删除集合"><a href="#使用remove-删除”users”集合中所有文档-不会删除集合" class="headerlink" title="使用remove()删除”users”集合中所有文档(不会删除集合)"></a>使用<code>remove()</code>删除”users”集合中所有文档(不会删除集合)</h6><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt; db.users.remove()</span><br></pre></td></tr></table></figure>
<h5 id="gt-使用drop-删除”users”集合"><a href="#gt-使用drop-删除”users”集合" class="headerlink" title="&gt;  使用drop()删除”users”集合"></a>&gt;  使用<code>drop()</code>删除”users”集合</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt; db.users.drop()</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://aaaneigeideitao.github.io/2018/10/30/localStorage和sessionStorage/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="WeiYuan Jia">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="这是我的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/10/30/localStorage和sessionStorage/" itemprop="url">localStorage和sessionStorage</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-10-30T09:11:00+08:00">
                2018-10-30
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/客户端存储/" itemprop="url" rel="index">
                    <span itemprop="name">客户端存储</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="localStorage"><a href="#localStorage" class="headerlink" title="localStorage"></a>localStorage</h1><ul>
<li>永久性（除非用户主动删除或者Web应用刻意删除）</li>
<li>同源共享性</li>
<li>浏览器限制</li>
<li>暂时只能以字符串形式存储</li>
</ul>
<h1 id="sessionStorage"><a href="#sessionStorage" class="headerlink" title="sessionStorage"></a>sessionStorage</h1><ul>
<li>同源</li>
<li>限定在同一顶级窗口(同窗口中两个iframe可以共享sessionStorage)，两个标签页不能共享</li>
<li>暂时只能以字符串形式存储</li>
<li>窗口和标签页被关闭就清除（排除一些浏览器可以恢复上次页面，可以恢复）</li>
</ul>
<h1 id="共同的API"><a href="#共同的API" class="headerlink" title="共同的API:"></a>共同的API:</h1><h5 id="setItem-k-v-设置字段，k代表字段名，v代表值"><a href="#setItem-k-v-设置字段，k代表字段名，v代表值" class="headerlink" title="setItem(k,v):设置字段，k代表字段名，v代表值"></a>setItem(k,v):设置字段，k代表字段名，v代表值</h5><h5 id="getItem-k-获取指定值"><a href="#getItem-k-获取指定值" class="headerlink" title="getItem(k):获取指定值"></a>getItem(k):获取指定值</h5><h5 id="removeItem-k-删除指定字段"><a href="#removeItem-k-删除指定字段" class="headerlink" title="removeItem(k):删除指定字段"></a>removeItem(k):删除指定字段</h5><h5 id="Clear-清除所有字段"><a href="#Clear-清除所有字段" class="headerlink" title="Clear():清除所有字段"></a>Clear():清除所有字段</h5><h5 id="Key-i-取出指定字段"><a href="#Key-i-取出指定字段" class="headerlink" title="Key(i):取出指定字段"></a>Key(i):取出指定字段</h5><h1 id="注意点"><a href="#注意点" class="headerlink" title="注意点:"></a>注意点:</h1><ul>
<li>因为对象不能直接存在Storage中,必须序列化之后才能入库</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://aaaneigeideitao.github.io/2018/10/28/Ajax封装成Promise/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="WeiYuan Jia">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="这是我的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/10/28/Ajax封装成Promise/" itemprop="url">Ajax封装成Promise</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-10-28T20:50:00+08:00">
                2018-10-28
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/Ajax/" itemprop="url" rel="index">
                    <span itemprop="name">Ajax</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">let</span> btn = document.getElementById(<span class="string">"btn"</span>);</span><br><span class="line">			<span class="built_in">let</span> demo = document.getElementById(<span class="string">"#demo"</span>);</span><br><span class="line"></span><br><span class="line">			const ajax_post_promise = (url, parameter = &#123;&#125;) =&gt; &#123;</span><br><span class="line">				<span class="built_in">return</span> new Promise(<span class="keyword">function</span>(resolve, reject) &#123;</span><br><span class="line">					<span class="built_in">let</span> xhr = new XMLHttpRequest();</span><br><span class="line">					xhr.onreadystatechange = <span class="function"><span class="title">function</span></span>() &#123;</span><br><span class="line">						<span class="keyword">if</span> (xhr.readyState == 4) &#123;</span><br><span class="line">							<span class="keyword">if</span> ((xhr.status &gt;= 200 &amp;&amp; xhr.status &lt; 300) || xhr.status == 304) &#123;</span><br><span class="line">								resolve(JSON.parse(xhr.responseText));</span><br><span class="line">							&#125;</span><br><span class="line">						&#125;</span><br><span class="line">					&#125;</span><br><span class="line">					xhr.open(<span class="string">'post'</span>, url, <span class="literal">true</span>);</span><br><span class="line">					xhr.setRequestHeader(<span class="string">'Content-Type'</span>, <span class="string">'application/x-www-form-urlencoded'</span>)</span><br><span class="line">					xhr.send(parameter.body);</span><br><span class="line">				&#125;)</span><br><span class="line">			&#125;;</span><br><span class="line"></span><br><span class="line">			const ajax_get_promise = (url, parameter = &#123;&#125;) =&gt; &#123;</span><br><span class="line">				<span class="built_in">return</span> new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">					<span class="built_in">let</span> xhr = new XMLHttpRequest();</span><br><span class="line">					<span class="built_in">let</span> param = Object.entries(parameter).map((arrItem, index) =&gt; `?<span class="variable">$&#123;arrItem[0]&#125;</span>=<span class="variable">$&#123;arrItem[1]&#125;</span>`);</span><br><span class="line">					</span><br><span class="line">					xhr.onreadystatechange = <span class="function"><span class="title">function</span></span>() &#123;</span><br><span class="line">						<span class="keyword">if</span> (xhr.readyState == 4) &#123;</span><br><span class="line">							<span class="keyword">if</span> ((xhr.status &gt;= 200 &amp;&amp; xhr.status &lt; 300) || xhr.status == 304) &#123;</span><br><span class="line">								resolve(JSON.parse(xhr.responseText));</span><br><span class="line">							&#125;</span><br><span class="line">						&#125;</span><br><span class="line">					&#125;</span><br><span class="line">					xhr.open(<span class="string">'get'</span>, url + param, <span class="literal">true</span>);</span><br><span class="line">					xhr.send(null);</span><br><span class="line">				&#125;)</span><br><span class="line">			&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">			ajax_post_promise(<span class="string">'http://localhost:3020/users/'</span>)</span><br><span class="line">				.<span class="keyword">then</span>((res) =&gt; console.log(res))</span><br><span class="line">				.catch((err) =&gt; console.log(err));</span><br><span class="line"></span><br><span class="line">			ajax_get_promise((<span class="string">'http://localhost:3020/users/'</span>))</span><br><span class="line">				.<span class="keyword">then</span>((res) =&gt; console.log(res))</span><br><span class="line">				.catch((err) =&gt; console.log(err));</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://aaaneigeideitao.github.io/2018/06/29/JavaScript-箭头函数this作用域/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="WeiYuan Jia">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="这是我的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/06/29/JavaScript-箭头函数this作用域/" itemprop="url">JavaScript-this指向正常的几种写法</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-06-29T22:43:00+08:00">
                2018-06-29
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/JavaScript/" itemprop="url" rel="index">
                    <span itemprop="name">JavaScript</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>JavaScript中，如果一个函数没有作为对象的方法被对象调用，那么他的this的指向的是全局环境，而不是外部函数环境。<br>通过以下几种方法，可以让this保持正常的指向</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">var o =  &#123;</span><br><span class="line">	name : <span class="string">'jwy'</span>,</span><br><span class="line">	age : 23,</span><br><span class="line">	<span class="function"><span class="title">func_this_showAge</span></span>()&#123;</span><br><span class="line">		(<span class="function"><span class="title">function</span></span>()&#123;console.log(this.age);&#125;)();</span><br><span class="line">	&#125;,</span><br><span class="line">	<span class="function"><span class="title">func_bind_showAge</span></span>()&#123;</span><br><span class="line">		(<span class="function"><span class="title">function</span></span>()&#123;console.log(this.age);&#125;).<span class="built_in">bind</span>(this)();//主动通过函数的<span class="built_in">bind</span>()方法绑定this的指向</span><br><span class="line">	&#125;,</span><br><span class="line">	<span class="function"><span class="title">func_that_showAge</span></span>()&#123;</span><br><span class="line">		var that = this;//在这个函数作用域里新建一个变量指向this,使得this指向正确的位置</span><br><span class="line">		(<span class="function"><span class="title">function</span></span>()&#123;console.log(that.age);&#125;)();</span><br><span class="line">	&#125;,</span><br><span class="line">	<span class="function"><span class="title">arrowFunc_showAge</span></span>()&#123;</span><br><span class="line">		(()=&gt;console.log(this.age))();</span><br><span class="line">		/* ES6中的箭头函数,没有this的绑定,所以this的指向正常</span><br><span class="line">		  没有<span class="keyword">function</span>关键字定义的函数的特殊作用域</span><br><span class="line">       	而且不能箭头函数通过<span class="built_in">bind</span>或者call或者apply方法不会改变其this的指向,</span><br><span class="line">      */</span><br><span class="line">     </span><br><span class="line">	&#125;,</span><br><span class="line">	<span class="function"><span class="title">callOrApply_showAge</span></span>()&#123;</span><br><span class="line">		var showAge = <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">			console.log(this.age);</span><br><span class="line">		&#125;</span><br><span class="line">		//通过call或者apply主动改变this的作用域</span><br><span class="line">		showAge.call(this,null);//23</span><br><span class="line">		showAge.apply(this,null);//23</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">o.func_this_showAge();//undefined</span><br><span class="line">o.func_bind_showAge();//23</span><br><span class="line">o.func_that_showAge();//23</span><br><span class="line">o.arrowFunc_showAge();//23</span><br><span class="line">o.callOrApply_showAge();//23 23</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://aaaneigeideitao.github.io/2018/06/05/关于Object-defineProperty-的一些要点/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="WeiYuan Jia">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="这是我的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/06/05/关于Object-defineProperty-的一些要点/" itemprop="url">关于Object.defineProperty()的一些要点</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-06-05T20:44:00+08:00">
                2018-06-05
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/JavaScript/" itemprop="url" rel="index">
                    <span itemprop="name">JavaScript</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h6 id="使用对象字面量定义对象"><a href="#使用对象字面量定义对象" class="headerlink" title="使用对象字面量定义对象"></a>使用对象字面量定义对象</h6><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">var person1=&#123;</span><br><span class="line">	name:<span class="string">"Zhouquan"</span>,</span><br><span class="line">	age:23,</span><br><span class="line">	job:<span class="string">"student"</span>,</span><br><span class="line">	sayName:<span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">		console.log(<span class="string">"name:"</span>+this.name);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h1 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h1><h2 id="数据属性"><a href="#数据属性" class="headerlink" title="数据属性"></a>数据属性</h2><p>这些属性是ES5才出现的，描述了内部特征，不能直接访问，是为了实现javascript的引擎用的，放在两对儿方括号中</p>
<h3 id="Configurable"><a href="#Configurable" class="headerlink" title="[[Configurable]]:"></a>[[Configurable]]:</h3><p>表示能否通过delete删除属性从而重新定义属性，能否修改属性的特性或者把属性修改成访问器属性。新定义的对象默认值是<code>true</code></p>
<h3 id="Enumerable"><a href="#Enumerable" class="headerlink" title="[[Enumerable]]:"></a>[[Enumerable]]:</h3><p>表示能否通过for-in循环返回属性，新定义的对象默认值为<code>true</code></p>
<h3 id="Writable"><a href="#Writable" class="headerlink" title="[[Writable]]:"></a>[[Writable]]:</h3><p>表示能否修改属性的值，新定义对象默认值为<code>true</code></p>
<h3 id="Value"><a href="#Value" class="headerlink" title="[[Value]]:"></a>[[Value]]:</h3><p>包含这个属性的数据值，写入/读取数据值的时候，都从这个位置写入/读取</p>
<h2 id="内部属性用法"><a href="#内部属性用法" class="headerlink" title="内部属性用法"></a>内部属性用法</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var person2=&#123;</span><br><span class="line">	name:<span class="string">"Quanshushu"</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p><code>[[Value]]</code>特性被设置为<code>&quot;Quanshushu&quot;</code>，这个值若修改都会被反应在这个位置</p>
<h3 id="Object-defineProperty"><a href="#Object-defineProperty" class="headerlink" title="Object.defineProperty()"></a>Object.defineProperty()</h3><p>用来修改属性的默认特以及访问器属性</p>
<ul>
<li>支持此方法的浏览器：IE9+,FF4+,SF5+,O12+,Chrome</li>
</ul>
<p>用法:<code>Object.defineProperty(&#39;属性所在的对象&#39;，&#39;属性的名字&#39;，&#39;描述符对象&#39;)</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Object.defineProperty(person2,&quot;name&quot;,&#123;</span><br><span class="line">	writable:false,</span><br><span class="line">	enumerable:false	</span><br><span class="line">&#125;);	</span><br><span class="line">try&#123;</span><br><span class="line">	person2.name=&quot;Zhoudeng&quot;;</span><br><span class="line">/*因为[[Writable]]特性值被修改成false，所以name属性没有被修改*/</span><br><span class="line">/*严格模式下，以上操作会报错*/</span><br><span class="line">&#125;catch(e)&#123;</span><br><span class="line">	// console.log(e.message);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="关于-Configurable-特性有以下注意"><a href="#关于-Configurable-特性有以下注意" class="headerlink" title="关于[[Configurable]]特性有以下注意"></a>关于[[Configurable]]特性有以下注意</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">try&#123;	</span><br><span class="line">	Object.defineProperty(person1,<span class="string">"name"</span>,&#123;configurable:<span class="literal">false</span>&#125;);</span><br><span class="line">	delete person1.name;//result:<span class="string">"Cannot delete..."</span></span><br><span class="line">&#125;catch(e)&#123;</span><br><span class="line">	// console.log(e.message);</span><br><span class="line">&#125;</span><br><span class="line">try&#123;</span><br><span class="line"> /*一旦把属性定义为不可配置的就不能重新定义为可配置的了*/</span><br><span class="line">    Object.defineProperty(person1,<span class="string">"name"</span>,&#123;configurable:<span class="literal">false</span>&#125;);</span><br><span class="line">	Object.defineProperty(person1,<span class="string">"name"</span>,&#123;configurable:<span class="literal">true</span>&#125;);//error</span><br><span class="line">    </span><br><span class="line"> /*[[Configurable]]特性被设置为<span class="literal">false</span>之后，只有[[writable]]特性可以更改*/   </span><br><span class="line">	Object.defineProperty(person1,<span class="string">"name"</span>,&#123;writable:<span class="literal">true</span>&#125;);</span><br><span class="line">    person1.name=<span class="string">"xiaowang"</span>;</span><br><span class="line">	// console.log(person1.name);//result:<span class="string">"xiaowang"</span></span><br><span class="line">&#125;catch(e)&#123;</span><br><span class="line">	console.log(e.message);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="访问器属性"><a href="#访问器属性" class="headerlink" title="访问器属性"></a>访问器属性</h2><p>不包含数据值，包含一对儿getter和setter函数（但都不是必须的）<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var salary=&#123;</span><br><span class="line">	_data:2350,//前面的下划线是一种记号，用于表示只能通过对象方法访问的属性</span><br><span class="line">	grade:<span class="string">"普通员工"</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">Object.defineProperty(salary,&quot;data&quot;,&#123;</span><br><span class="line">	get:function()&#123;</span><br><span class="line">		return this.data;</span><br><span class="line">	&#125;</span><br><span class="line">	,</span><br><span class="line">	set:function(newValue)&#123;</span><br><span class="line">		if(newValue&gt;=2350&amp;&amp;newValue&lt;8950)&#123;</span><br><span class="line">			this._data=newValue;</span><br><span class="line">			this.grade=&quot;初级工程师&quot;;</span><br><span class="line">		&#125;</span><br><span class="line">		else if(newValue&gt;=8950&amp;&amp;newValue&lt;18950)&#123;</span><br><span class="line">			this._data=newValue;</span><br><span class="line">			this.grade=&quot;中级工程师&quot;;</span><br><span class="line">		&#125;</span><br><span class="line">		else if(newValue&gt;=18950&amp;&amp;newValue&lt;28950)&#123;</span><br><span class="line">			this._data=newValue;</span><br><span class="line">			this.grade=&quot;高级工程师&quot;;</span><br><span class="line">		&#125;</span><br><span class="line">		else&#123;</span><br><span class="line">			this._data=newValue;</span><br><span class="line">			this.grade=&quot;其他职位&quot;;	</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;);</span><br><span class="line">try&#123;</span><br><span class="line">	salary.data=15400;</span><br><span class="line">	console.log(JSON.stringify(salary));</span><br><span class="line">&#125;catch(e)&#123;</span><br><span class="line">   console.log(e.message)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>使用访问器属性的常见方式，即设置一个属性的值会导致其他属性发生变化</li>
<li>只设置setter函数或者只设置getter函数在strict模式下会导致错误</li>
<li>旧浏览器访问方法:<code>__defineGetter__</code>和<code>__defineSetter__</code></li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">// 请注意，该方法是非标准的，不要尝试用它</span><br><span class="line">var book=&#123;</span><br><span class="line">	_year:2004,</span><br><span class="line">	edition:1</span><br><span class="line">&#125;</span><br><span class="line">book.__defineGetter__(<span class="string">"year"</span>,<span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">	<span class="built_in">return</span> this._year;</span><br><span class="line">&#125;);</span><br><span class="line">book.__defineSetter__(<span class="string">"year"</span>,<span class="keyword">function</span>(newValue)&#123;</span><br><span class="line">	<span class="keyword">if</span>(newValue&gt;2004)&#123;</span><br><span class="line">		this._year=newValue;</span><br><span class="line">		this.edition+=newValue-2004;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">book.year=2005;</span><br><span class="line">console.log(book.edition);//1</span><br></pre></td></tr></table></figure>
<h2 id="Object-defineProperties-方法"><a href="#Object-defineProperties-方法" class="headerlink" title="Object.defineProperties()方法"></a>Object.defineProperties()方法</h2><p>用来定义多个属性。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">var dog=&#123;&#125;;</span><br><span class="line">Object.defineProperties(dog,&#123;</span><br><span class="line">	age:&#123;</span><br><span class="line">		value:6</span><br><span class="line">	&#125;,</span><br><span class="line">	_length:&#123;</span><br><span class="line">		value:1</span><br><span class="line">	&#125;,</span><br><span class="line">	kind:&#123;</span><br><span class="line">		value:<span class="string">"husky"</span>,</span><br><span class="line">		// enumerable:<span class="literal">false</span></span><br><span class="line">	&#125;,</span><br><span class="line">	length:&#123;</span><br><span class="line">		get:<span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">			<span class="built_in">return</span> this._length+<span class="string">'m'</span>;</span><br><span class="line">		&#125;,</span><br><span class="line">		<span class="built_in">set</span>:<span class="keyword">function</span>(value)&#123;</span><br><span class="line">			this._length=value;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;);</span><br><span class="line">``` </span><br><span class="line">//初始化cat对象并且定义age属性</span><br><span class="line">``` bash</span><br><span class="line">var cat=&#123;</span><br><span class="line">	age:23</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<p>//给cat对象定义name属性<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Object.defineProperty(cat,<span class="string">"name"</span>,&#123;</span><br><span class="line">	value:<span class="string">"Jerry"</span>					</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">let</span> dogDes=Object.getOwnPropertyDescriptor(dog,<span class="string">'kind'</span>);</span><br><span class="line"><span class="built_in">let</span> catNameDes=Object.getOwnPropertyDescriptor(cat,<span class="string">'name'</span>);</span><br><span class="line"><span class="built_in">let</span> catAgeDes=Object.getOwnPropertyDescriptor(cat,<span class="string">'age'</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">console.log(dogDes.enumerable);//<span class="literal">false</span></span><br><span class="line">console.log(catDes.enumerable);//<span class="literal">false</span>,name在对象字面量中未定义，而是使用了defineProperty()方法，而且未指定其enumerable属性</span><br><span class="line">console.log(cat1Des.enumerable);//<span class="literal">true</span>,age在对象字面量中就提前声明了</span><br></pre></td></tr></table></figure></p>
<h5 id="提示"><a href="#提示" class="headerlink" title="提示"></a>提示</h5><p>/* </p>
<ul>
<li>注意了，直接用对象字面量声明过的属性，其enumerable默认值是true没错，</li>
<li>但是如果没有在提前定义属性而是使用defineProperty()或defineProperties()定义的属性，</li>
<li>如果未指定enumerable那么其默认值是false，无法被遍历<br>*/</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://aaaneigeideitao.github.io/2018/06/05/Firefox中事件取消默认行为的一个注意点/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="WeiYuan Jia">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="这是我的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/06/05/Firefox中事件取消默认行为的一个注意点/" itemprop="url">Firefox中事件取消默认行为的一个注意点</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-06-05T20:38:00+08:00">
                2018-06-05
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/浏览器兼容/" itemprop="url" rel="index">
                    <span itemprop="name">浏览器兼容</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>今天在写表单的取消默认行为时，在使用<code>event.preventDefault()</code>给表单的提交按钮取消默认行为时，没有显示的在函数里定义<code>event</code>参数，在Chrome下可以实现目的，但是在火狐下控制台输出错误<code>event is not defined</code>，给函数加上显示加上<code>event</code>参数后，测试通过。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/avatar.png" alt="WeiYuan Jia">
            
              <p class="site-author-name" itemprop="name">WeiYuan Jia</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">20</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">10</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">39</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/AAaNEIgeiDEItao/" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:aaaneigeideitao@gmail.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">WeiYuan Jia</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


  
  

  

  

  

</body>
</html>
